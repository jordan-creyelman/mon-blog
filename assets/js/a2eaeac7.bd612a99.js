"use strict";(self.webpackChunkmon_blog=self.webpackChunkmon_blog||[]).push([[7832],{856:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>u,frontMatter:()=>d,metadata:()=>i,toc:()=>t});var i=s(9065),r=s(4848),l=s(8453);const d={},c=void 0,o={authorsImageUrls:[]},t=[{value:"1. <strong>SQLi classique (In-band)</strong>",id:"1-sqli-classique-in-band",level:2},{value:"2. <strong>Blind SQLi</strong>",id:"2-blind-sqli",level:2},{value:"3. <strong>Out-of-band SQLi</strong>",id:"3-out-of-band-sqli",level:2},{value:"4. <strong>Second-order SQLi</strong>",id:"4-second-order-sqli",level:2},{value:"MySQL",id:"mysql",level:2},{value:"PostgreSQL",id:"postgresql",level:2},{value:"SQL Server",id:"sql-server",level:2},{value:"Oracle",id:"oracle",level:2},{value:"1. <strong>Encodage</strong>",id:"1-encodage",level:3},{value:"2. <strong>Casse ou espacement</strong>",id:"2-casse-ou-espacement",level:3},{value:"3. <strong>Fonctions alternatives</strong>",id:"3-fonctions-alternatives",level:3},{value:"4. <strong>Utilisation d\u2019expressions r\xe9guli\xe8res ou char-coding</strong>",id:"4-utilisation-dexpressions-r\xe9guli\xe8res-ou-char-coding",level:3}];function a(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Voici un article en ",(0,r.jsx)(n.strong,{children:"Markdown"})," adapt\xe9 pour \xeatre utilis\xe9 dans un site ",(0,r.jsx)(n.strong,{children:"Docusaurus"})," (par exemple dans le dossier ",(0,r.jsx)(n.code,{children:"docs/"}),") sur le th\xe8me de ",(0,r.jsx)(n.strong,{children:"SQL Injection (SQLi)"}),", couvrant :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"D\xe9finition"}),"\n",(0,r.jsx)(n.li,{children:"Types"}),"\n",(0,r.jsx)(n.li,{children:"Particularit\xe9s selon les bases de donn\xe9es"}),"\n",(0,r.jsx)(n.li,{children:"Techniques (commentaires, d\xe9tection du nombre de colonnes, encodage WAF)"}),"\n",(0,r.jsxs)(n.li,{children:["Compatible pour une publication \xe0 la date du ",(0,r.jsx)(n.strong,{children:"13 mai 2025"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:"---\ntitle: Comprendre les SQL Injections (SQLi)\ndescription: Un guide sur les types de SQLi, leur fonctionnement, les diff\xe9rences entre les bases de donn\xe9es, et les techniques de contournement.\nslug: sqli\ndate: 2025-05-13\nkeywords:\n  - sqli\n  - injection\n  - s\xe9curit\xe9\n  - base de donn\xe9es\n---\n\n# Qu'est-ce qu'une SQL Injection (SQLi) ?\n\nUne **SQL Injection** est une vuln\xe9rabilit\xe9 qui permet \xe0 un attaquant d'injecter des requ\xeates SQL arbitraires dans l'application. Cela peut lui permettre d'acc\xe9der \xe0 des donn\xe9es sensibles, de modifier ou de supprimer des enregistrements, voire d'ex\xe9cuter des commandes sur le serveur dans certains cas.\n\nExemple simple :\n\n```sql\nSELECT * FROM users WHERE username = '$username';\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Si l'utilisateur entre ",(0,r.jsx)(n.code,{children:"' OR 1=1--"}),", la requ\xeate devient :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM users WHERE username = '' OR 1=1--';\n"})}),"\n",(0,r.jsx)(n.p,{children:"R\xe9sultat : retour de tous les utilisateurs."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"types-de-sqli",children:"Types de SQLi"}),"\n",(0,r.jsxs)(n.h2,{id:"1-sqli-classique-in-band",children:["1. ",(0,r.jsx)(n.strong,{children:"SQLi classique (In-band)"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Erreur visible ou r\xe9ponse directe"})}),"\n",(0,r.jsxs)(n.li,{children:["Utilisation des op\xe9rateurs logiques (",(0,r.jsx)(n.code,{children:"OR"}),", ",(0,r.jsx)(n.code,{children:"AND"}),") pour manipuler les r\xe9sultats."]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"2-blind-sqli",children:["2. ",(0,r.jsx)(n.strong,{children:"Blind SQLi"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Le r\xe9sultat n\u2019est pas visible, mais on peut d\xe9duire des informations par les temps de r\xe9ponse ou les erreurs."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Boolean-based"})," : test vrai/faux."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Time-based"})," : injection de fonctions comme ",(0,r.jsx)(n.code,{children:"SLEEP()"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"3-out-of-band-sqli",children:["3. ",(0,r.jsx)(n.strong,{children:"Out-of-band SQLi"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Exploitation via des canaux externes (ex. DNS ou HTTP)."}),"\n",(0,r.jsx)(n.li,{children:"Rare, mais utile si les autres m\xe9thodes \xe9chouent."}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"4-second-order-sqli",children:["4. ",(0,r.jsx)(n.strong,{children:"Second-order SQLi"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"L'injection se fait lors d'une premi\xe8re action (ex: inscription), mais est exploit\xe9e lors d\u2019un second traitement (ex: affichage admin)."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"particularit\xe9s-selon-la-base-de-donn\xe9es",children:"Particularit\xe9s selon la base de donn\xe9es"}),"\n",(0,r.jsx)(n.h2,{id:"mysql",children:"MySQL"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Commentaires : ",(0,r.jsx)(n.code,{children:"-- "})," ou ",(0,r.jsx)(n.code,{children:"#"})]}),"\n",(0,r.jsxs)(n.li,{children:["Concat\xe9nation : ",(0,r.jsx)(n.code,{children:"CONCAT()"})]}),"\n",(0,r.jsxs)(n.li,{children:["D\xe9lai : ",(0,r.jsx)(n.code,{children:"SLEEP(5)"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"postgresql",children:"PostgreSQL"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Commentaires : ",(0,r.jsx)(n.code,{children:"-- "})]}),"\n",(0,r.jsxs)(n.li,{children:["Concat\xe9nation : ",(0,r.jsx)(n.code,{children:"||"})]}),"\n",(0,r.jsxs)(n.li,{children:["D\xe9lai : ",(0,r.jsx)(n.code,{children:"pg_sleep(5)"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"sql-server",children:"SQL Server"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Commentaires : ",(0,r.jsx)(n.code,{children:"-- "})]}),"\n",(0,r.jsxs)(n.li,{children:["Concat\xe9nation : ",(0,r.jsx)(n.code,{children:"+"})]}),"\n",(0,r.jsxs)(n.li,{children:["D\xe9lai : ",(0,r.jsx)(n.code,{children:"WAITFOR DELAY '0:0:5'"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"oracle",children:"Oracle"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Commentaires : ",(0,r.jsx)(n.code,{children:"-- "})]}),"\n",(0,r.jsxs)(n.li,{children:["Concat\xe9nation : ",(0,r.jsx)(n.code,{children:"||"})]}),"\n",(0,r.jsxs)(n.li,{children:["D\xe9lai : ",(0,r.jsx)(n.code,{children:"dbms_pipe.receive_message('a',5)"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"comment-d\xe9tecter-le-nombre-de-colonnes-union-select",children:"Comment d\xe9tecter le nombre de colonnes (UNION SELECT)"}),"\n",(0,r.jsxs)(n.p,{children:["Une des premi\xe8res \xe9tapes lors d\u2019une SQLi avec ",(0,r.jsx)(n.code,{children:"UNION"})," est de d\xe9terminer le nombre de colonnes dans la requ\xeate originale :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"' ORDER BY 1-- \n' ORDER BY 2-- \n' ORDER BY 3-- \n"})}),"\n",(0,r.jsx)(n.p,{children:"Quand une erreur survient, le dernier nombre est trop \xe9lev\xe9."}),"\n",(0,r.jsxs)(n.p,{children:["Ensuite, on peut tester avec ",(0,r.jsx)(n.code,{children:"UNION"})," :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"' UNION SELECT NULL-- \n' UNION SELECT NULL,NULL-- \n' UNION SELECT NULL,NULL,NULL-- \n"})}),"\n",(0,r.jsx)(n.p,{children:"Jusqu'\xe0 ne plus obtenir d'erreur \u2192 on a trouv\xe9 le bon nombre de colonnes."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"commentaires-utiles-pour-masquer-ou-terminer-les-requ\xeates",children:"Commentaires utiles pour masquer ou terminer les requ\xeates"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"--"})," (standard SQL)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"#"})," (MySQL)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"/* ... */"})," (multi-ligne)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Exemples :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"' OR 1=1-- \n' OR 1=1# \n' OR 1=1/* */\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"contourner-les-waf-web-application-firewall",children:"Contourner les WAF (Web Application Firewall)"}),"\n",(0,r.jsx)(n.p,{children:"Les WAF essaient de d\xe9tecter les patterns suspects. Quelques techniques de contournement :"}),"\n",(0,r.jsxs)(n.h3,{id:"1-encodage",children:["1. ",(0,r.jsx)(n.strong,{children:"Encodage"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["URL encoding : ",(0,r.jsx)(n.code,{children:"'"})," devient ",(0,r.jsx)(n.code,{children:"%27"})]}),"\n",(0,r.jsxs)(n.li,{children:["Double encoding : ",(0,r.jsx)(n.code,{children:"%2527"})," pour ",(0,r.jsx)(n.code,{children:"%27"})]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"2-casse-ou-espacement",children:["2. ",(0,r.jsx)(n.strong,{children:"Casse ou espacement"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"UnIoN SeLeCt\nUNION/**/SELECT\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"3-fonctions-alternatives",children:["3. ",(0,r.jsx)(n.strong,{children:"Fonctions alternatives"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CONCAT()"})," \u2192 ",(0,r.jsx)(n.code,{children:"CONCAT_WS()"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"UNION"})," \u2192 ",(0,r.jsx)(n.code,{children:"/*!UNION*/"})]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"4-utilisation-dexpressions-r\xe9guli\xe8res-ou-char-coding",children:["4. ",(0,r.jsx)(n.strong,{children:"Utilisation d\u2019expressions r\xe9guli\xe8res ou char-coding"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT CHAR(65,66,67)-- au lieu de 'ABC'\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"conclusion",children:"Conclusion"}),"\n",(0,r.jsxs)(n.p,{children:["Les ",(0,r.jsx)(n.strong,{children:"SQL Injections"})," restent une menace s\xe9rieuse en cybers\xe9curit\xe9. Comprendre leurs m\xe9canismes, leurs variantes selon les bases de donn\xe9es, et les techniques de d\xe9tection est essentiel pour tout pentesteur ou d\xe9veloppeur souhaitant s\xe9curiser ses applications."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Bonnes pratiques"})," :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Toujours utiliser des requ\xeates pr\xe9par\xe9es (prepared statements)"}),"\n",(0,r.jsx)(n.li,{children:"Ne jamais faire confiance \xe0 l\u2019entr\xe9e utilisateur"}),"\n",(0,r.jsx)(n.li,{children:"Utiliser des WAF intelligents, mais ne jamais s\u2019y reposer totalement"}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>c});var i=s(6540);const r={},l=i.createContext(r);function d(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(l.Provider,{value:n},e.children)}},9065:e=>{e.exports=JSON.parse('{"permalink":"/mon-blog/2025/05/13/sqli","source":"@site/blog/2025-05-13-sqli.md","title":"sqli","description":"Voici un article en Markdown adapt\xe9 pour \xeatre utilis\xe9 dans un site Docusaurus (par exemple dans le dossier docs/) sur le th\xe8me de SQL Injection (SQLi), couvrant :","date":"2025-05-13T00:00:00.000Z","tags":[],"readingTime":3.295,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"unlisted":false,"nextItem":{"title":"Welcome","permalink":"/mon-blog/welcome"}}')}}]);